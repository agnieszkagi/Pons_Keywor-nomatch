import time
from selenium import webdriver
from selenium.webdriver.firefox.options import Options as options
from selenium.webdriver.common.keys import Keys

url = "https://top.pons.me/?dict=frpl"

list_of_nomatch_keywords = [
    "pracodawca",
    "Akryl",
    "Scripteur",
    "Ułożyć",
    "tutejsze",
    "Niak",
    "Cramer",
    "moglabym",
    "Zagadki",
    "Parcour",
    "défai",
    "cuisinière",
    "Emoie",
    "Vorgehen",
    "Danç",
    "odpowiedź",
    "écrire",
    "MSN",
    "Pme",
    "étalagiste",
    "apprentisage",
    "S'emmener",
    "Nativement",
    "Poularis",
    "deux",
    "Vivre",
    "Novlangue",
    "lucie",
    "Viré-langue",
    "Odcedź",
    "rescousse",
    "Ssmakowac",
    "napisz",
    "Chemie",
    "Antrer",
    "Severin",
    "Sac",
    "scandale",
    "Grudzień",
    "Wazrywa",
    "Addict",
    "Bouchara",
    "Pomocy",
    "nagminne",
    "parabolique",
    "besace",
    "Mayique",
    "alarme",
    "diaphane",
    "Seulememt",
    "assaiser",
    "Nierozsądne",
    "Heraut",
    "Avanter",
    "pretendu",
    "Conncecter",
    "Suwak",
    "devin",
    "Draska",
    "nuir",
    "Cancë",
    "Aéronavale",
    "Enonciataire",
    "bobobola",
    "Przestrzec",
    "Recacle",
    "powinni",
    "Parasseux",
    "condanable",
    "faillir",
    "vers",
    "Tentratris",
    "Aranżancja",
    "dove",
    "fotografowaniem",
    "bouchere",
    "Petrole",
    "Standing",
    "bras",
    "decapoter",
    "Épiphanie",
    "Mirage",
    "Enqueteuse",
    "devanture",
    "Potańcówka",
    "Imentions",
    "Serier",
    "frêne",
    "centaure",
    "Dziekwje",
    "Travailer",
    "Kurs",
    "mentor",
    "Lec",
    "succomber",
    "Viade",
    "imparfaint",
    "Syntagmatique",
    "arystokrata",
    "Chiant",
    "dusseami",
    "Quod",
    "Rozsypać",
    "bataille",
    "Smysz",
    "Spieśczny",
    "Panterka",
    "Villon",
    "Dmuchawiec",
    "Notification",
    "odpłynąć",
    "Egarement",
    "Oklamywac",
    "corbeau",
    "trensmetr",
    "Wow",
    "kuratela",
    "Bure",
    "courieux",
    "Souvre",
    "toccante",
    "figowy",
    "Attlendre",
    "portae",
    "laissez-nous",
    "Brouet",
    "calisse",
    "odkrywa",
    "eleminer",
    "promiscuité",
    "accumuler",
    "mrugac",
    "année-mirage",
    "continue",
    "Intrinseque",
    "Realisateur",
    "marchandisation",
    "aloyau",
    "pondéral",
    "écueil",
    "assiser",
    "rebuter",
    "Ameliore",
    "fareur",
    "joyeuc",
    "Kły",
    "Foule",
    "Fraisement",
    "Ciste",
    "Rendroit",
    "Fiede",
    "Vacabces",
    "intégrali",
    "szach&#;mat",
    "Jollie",
    "Lexie",
    "promieniować",
    "avez&#;vous",
    "Dosypać",
    "twarożek",
    "anne",
    "acceillr",
    "conferent",
    "Pinter",
    "wykopalisko",
    "Fenek",
    "Patelna",
    "busculade",
    "substantif",
    "Canelle",
    "trien",
    "savoyard",
    "Tabletka",
    "Teau",
    "rier",
    "konkretna",
    "Kazdh",
    "Opwiadac",
    "Lyzwy",
    "xero",
    "Dorzucić",
    "lokatora",
    "vorre",
    "wycieraczki",
    "Centrum",
    "malin",
    "Dziękwję",
    "Frytka",
    "voula",
    "fait",
    "Szczesliwe",
    "pleindre",
    "Ingerer",
    "veux&#;&#;&#;tu",
    "Connai",
    "Seait",
    "Douter",
    "saler",
    "ferroviare",
    "oidsmine",
    "Mercure",
    "Automutiler",
    "aconie",
    "Venie",
    "Słoiczek",
    "Enonciateur",
    "Danc",
    "Comouaille",
    "Acculturation",
    "Stalue",
    "wpadka",
    "Appricher",
    "Chamrous",
    "Influer",
    "wróc",
    "Soucre",
    "Foture",
    "Plucha",
    "Ver",
    "Cheftain",
    "Afficace",
    "zawedziony",
    "wirowanie",
    "casser",
    "Bafrer",
    "Aux",
    "roulotter",
    "ola",
    "Troska",
    "acheter",
    "Parser",
    "fantome",
    "Nomad",
    "viligance",
    "głośny",
    "rumsteck",
    "orme",
    "rancœur",
    "applaudissementd",
    "Rzexnik",
    "Haute-coutue",
    "rédhibitoire",
    "birdie",
    "Detter",
    "iskier",
    "Beuzze",
    "Turystycznie",
    "Obrońcy",
    "Gichet",
    "empiler",
    "deprawacja",
    "Cordielement",
    "Continue",
    "Magicznie",
    "Concurs",
    "Sommemetrier",
    "tenance",
    "Porecznik",
    "Odcedzić",
    "Steak-frites",
    "tacler",
    "Wkurzający",
    "Krupczatka",
    "nieprzezroczyste",
    "pelure",
    "vue",
    "tre",
    "Wspomóc",
    "précepte",
    "recompense",
    "Transgender",
    "podskok",
    "garde-corps",
    "Zwinny",
    "Quetant",
    "monnayer",
    "Materiallement",
    "Zbiega",
    "Cile",
    "Frief",
    "pach",
    "Nabire",
    "Inventinssemtn",
    "Emis",
    "wbija",
    "Klotcie",
    "Mour",
    "auspice",
    "recontre",
    "turn",
    "Odginalny",
    "embelle",
    "gant",
    "évocation",
    "deuz",
    "pirojki",
    "Bôt",
    "indic",
    "Connivence",
    "zabiemi",
    "lipid",
    "Sebastian",
    "Batement",
    "grawer",
    "ralliement",
    "Chiante",
    "lenseignement",
    "Passanger",
    "Przepięknie",
    "Mee",
    "dimer",
    "recepcjonista",
    "używane",
    "żabiemi",
    "debacle",
    "Peu",
    "logé",
    "Sup",
    "presse",
    "redige",
    "cinque",
    "Batter",
    "réflexion",
    "effarer",
    "Prudentement",
    "Respondentów",
    "supposé",
    "Spuhaiter",
    "j’eusse",
    "Zdziwiona",
    "mes",
    "Sista",
    "Listewka",
    "cranidre",
    "Tampony",
    "Kamuflarz",
    "wietrzne",
    "Vieda",
    "dana",
    "Składniki",
    "Fatigan",
    "cleavage",
    "białorusin",
    "baugette",
    "abiter",
    "Magistrale",
    "cluster",
    "dutch",
    "Allucation",
    "Berraf",
    "Table",
    "Schornisko",
    "Essabeau",
    "beaux&#;arts",
    "Amarige",
    "maiaon",
    "Defenses",
    "Chamignon",
    "Charge",
    "Metrowe",
    "Malus",
    "muska",
    "des-chats",
    "holà",
    "Lent",
    "konstruktywny",
    "trigo",
    "Instestin",
    "militant",
    "Arenue",
    "retirer",
    "przepasane",
    "Mleczarz",
    "Eskalopka",
    "accrocheur",
    "Zartownisiem",
    "Sdiodowej",
    "Intercit",
    "Naulais",
    "opowiedź",
    "owsianka",
    "oprogramowanie",
    "Fuger",
    "kanspka",
    "cobcilier",
    "similitude",
    "Animalier",
    "Enteriner",
    "Plant",
    "Mensuel",
    "Nouvement",
    "Cineaste",
    "s'ingièter",
    "partimes",
    "allonsy",
    "wilkołak",
    "uzywc",
    "imagination",
    "Piosenkarka",
    "Przetrenowac",
    "beginets",
    "Prouvoir",
    "concourant",
    "poignée",
    "sonoriser",
    "nugeux",
    "prisme",
    "laisser",
    "Solitaire",
    "huśtać",
    "Esence",
    "Nazywany",
    "Lines",
    "Bruin",
    "Żółw",
    "Protestujacy",
    "mal-être",
    "Agumenter",
    "Cuze",
    "Vsgues",
    "ont",
    "pogłębienie",
    "incarnent",
    "Alamble",
    "meuf",
    "Soadieuz",
    "Archu",
    "kapcie",
    "smalec",
    "Fience",
    "Plaque",
    "Egrainer",
    "Sushi",
    "Stylisme",
    "Tętniak",
    "Déambulateur",
    "dowidzenia",
    "Schodowej",
    "Enonciation",
    "debarasser",
    "Scule",
    "Enqlave",
    "dematerialisation",
    "Effiner",
    "Gay",
    "Doy",
    "mintaj",
    "racher",
    "boulangerist",
    "acceptation",
    "douliou",
    "Assiete",
    "Peszel",
    "ciemność",
    "Niesamowite",
    "biec",
    "Nuka",
    "Ludi",
    "pompon",
    "Eurasien",
    "Ecueil",
    "Encorager",
    "Depre",
    "Vosge",
    "Vorte",
    "accruer",
    "Degut",
    "croûteux",
    "intimement",
    "Złoślowy",
    "Drappo",
    "eveilles",
    "luzerne",
    "INDONATION",
    "quelqu&#;un",
    "scandal",
    "Remplire",
    "pucelle",
    "Roszpunka",
    "Renault",
    "Megane",
    "Radonnee",
    "dąć",
    "gnicie",
    "Reewelacyjna",
    "muscles",
    "tatoué",
    "peklowany",
    "Jedynascie",
    "Podwyzszyc",
    "kochana",
    "żenada",
    "Kochany",
    "Variment",
    "suvre",
    "modain",
    "Statysta",
    "pusto",
    "namaszczać",
    "publika",
    "Zasłonięty",
    "pnącze",
    "żeberko",
    "d'exploiter",
    "tatué",
    "Ostatnio",
    "Letang",
    "Metrier",
    "faussette",
    "phal",
    "s'appeller",
    "Sucharki",
    "kajzerka",
    "Plante",
    "Joindree",
    "Anglais",
    "ecureuil",
    "recontez",
    "embarasse",
    "Fiere",
    "Aloes",
    "zabawna",
    "mérité",
    "brève",
    "Blac",
    "longuement",
    "instru",
    "Entranger",
    "sapeur&#;pompiers",
    "Fachee",
    "Partenariat",
    "Ulozyc",
    "Detruit",
    "Mauille",
    "Enrage",
    "Dialectique",
    "surpoids",
]

# removing duplicates
list_of_nomatch_keywords = list(set(list_of_nomatch_keywords))

# Removing empty elements, special characters from the list_of_nomatch_keywords

unwanted_keywords = []
for element in list_of_nomatch_keywords:
    if (
        element == ""
        or len(element) > 50
        or "#" in element
        or "$" in element
        or "&" in element
        or "%" in element
        or "frpl" in element
    ):
        unwanted_keywords.append(element)

for unwanted_keyword in unwanted_keywords:
    list_of_nomatch_keywords.remove(unwanted_keyword)

print("Number of keywords to be checked in dictionary: ", len(list_of_nomatch_keywords))
print("List of keywords: ", list_of_nomatch_keywords)

# SELENIUM PART

# disable cookies:
ops = options()
ops.set_preference("network.cookie.cookieBehavior", 2)
browser = webdriver.Firefox(options=ops)
# loading the pons website
try:
    browser.get("https://pl.pons.com/t%C5%82umaczenie?q=&l=frpl&in=&lf=fr&qnac=")
except Exception as exc:
    print("There was a problem: %s" % (exc))
# keywords input
input_elem = browser.find_element_by_name("q")
input_elem.clear()
input_elem.send_keys("test")
input_elem.send_keys(Keys.RETURN)

final_list = []

for keyword in list_of_nomatch_keywords:

    time.sleep(3)

    input_elem2 = browser.find_element_by_name("q")
    input_elem2.clear()

    input_elem2.send_keys(keyword)
    input_elem2.send_keys(Keys.RETURN)

    time.sleep(3)

    if "fuzzysearch" in browser.page_source:
        final_list.append(keyword)
    elif "no-dict-results" in browser.page_source:
        final_list.append(keyword)

browser.quit()

print("Number of keywords BEFORE checking: ", len(list_of_nomatch_keywords))
print("Number of keywords AFTER checking: ", len(final_list))

print(final_list)
